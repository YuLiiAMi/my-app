{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hillel \\u043A\\u0443\\u0440\\u0441\\\\React\\\\my-app\\\\client\\\\src\\\\components\\\\Input\\\\Input.js\",\n  _s = $RefreshSig$();\nimport \"./Input.css\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Input = () => {\n  _s();\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const handleLogin = () => {\n    // Виконуємо валідацію перед відправкою даних на сервер\n    if (!login || !password) {\n      setErrorMessage(\"Please fill in all fields.\");\n      return;\n    }\n\n    // Виконуємо POST-запит на сервер для автентифікації\n    axios.post(\"/login\", {\n      username: login,\n      password: password\n    }).then(response => {\n      // При успішній автентифікації зберігаємо токен у localStorage\n      const token = response.data.token;\n      localStorage.setItem(\"token\", token);\n    }).catch(error => {\n      // При помилці автентифікації встановлюємо повідомлення про помилку\n      if (error.response && error.response.status === 401) {\n        setErrorMessage(\"Invalid credentials\");\n      } else {\n        setErrorMessage(\"An error occurred. Please try again later.\");\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-input\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"User name\",\n      value: login,\n      onChange: e => setLogin(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: password,\n      onChange: e => setPassword(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      children: [\"Login\", /*#__PURE__*/_jsxDEV(FaEye, {\n        className: \"eyeIcon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(Input, \"YdDaom6bdJbSK1vfVwqLA9qckcU=\");\n_c = Input;\nexport default Input;\nvar _c;\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"names":["FaEye","FaEyeSlash","axios","jsxDEV","_jsxDEV","Input","_s","login","setLogin","useState","password","setPassword","errorMessage","setErrorMessage","handleLogin","post","username","then","response","token","data","localStorage","setItem","catch","error","status","className","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["D:/Hillel курс/React/my-app/client/src/components/Input/Input.js"],"sourcesContent":["import \"./Input.css\";\r\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\r\nimport axios from \"axios\";\r\n\r\nconst Input = () => {\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleLogin = () => {\r\n    // Виконуємо валідацію перед відправкою даних на сервер\r\n    if (!login || !password) {\r\n      setErrorMessage(\"Please fill in all fields.\");\r\n      return;\r\n    }\r\n\r\n    // Виконуємо POST-запит на сервер для автентифікації\r\n    axios\r\n      .post(\"/login\", { username: login, password: password })\r\n      .then((response) => {\r\n        // При успішній автентифікації зберігаємо токен у localStorage\r\n        const token = response.data.token;\r\n        localStorage.setItem(\"token\", token);\r\n      })\r\n      .catch((error) => {\r\n        // При помилці автентифікації встановлюємо повідомлення про помилку\r\n        if (error.response && error.response.status === 401) {\r\n          setErrorMessage(\"Invalid credentials\");\r\n        } else {\r\n          setErrorMessage(\"An error occurred. Please try again later.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-input\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"User name\"\r\n        value={login}\r\n        onChange={(e) => setLogin(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"Password\"\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n      <button onClick={handleLogin}>\r\n        Login\r\n        <FaEye className=\"eyeIcon\" />\r\n      </button>\r\n      {errorMessage && <p className=\"error\">{errorMessage}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n"],"mappings":";;AAAA,OAAO,aAAa;AACpB,SAASA,KAAK,EAAEC,UAAU,QAAQ,gBAAgB;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGF,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACG,YAAY,EAAEC,eAAe,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMK,WAAW,GAAGA,CAAA,KAAM;IACxB;IACA,IAAI,CAACP,KAAK,IAAI,CAACG,QAAQ,EAAE;MACvBG,eAAe,CAAC,4BAA4B,CAAC;MAC7C;IACF;;IAEA;IACAX,KAAK,CACFa,IAAI,CAAC,QAAQ,EAAE;MAAEC,QAAQ,EAAET,KAAK;MAAEG,QAAQ,EAAEA;IAAS,CAAC,CAAC,CACvDO,IAAI,CAAEC,QAAQ,IAAK;MAClB;MACA,MAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAI,CAACD,KAAK;MACjCE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;IACtC,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,IAAK;MAChB;MACA,IAAIA,KAAK,CAACN,QAAQ,IAAIM,KAAK,CAACN,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;QACnDZ,eAAe,CAAC,qBAAqB,CAAC;MACxC,CAAC,MAAM;QACLA,eAAe,CAAC,4CAA4C,CAAC;MAC/D;IACF,CAAC,CAAC;EACN,CAAC;EAED,oBACET,OAAA;IAAKsB,SAAS,EAAC,aAAa;IAAAC,QAAA,gBAC1BvB,OAAA;MACEwB,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC,WAAW;MACvBC,KAAK,EAAEvB,KAAM;MACbwB,QAAQ,EAAGC,CAAC,IAAKxB,QAAQ,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK;IAAE;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC,eACFjC,OAAA;MACEwB,IAAI,EAAC,UAAU;MACfC,WAAW,EAAC,UAAU;MACtBC,KAAK,EAAEpB,QAAS;MAChBqB,QAAQ,EAAGC,CAAC,IAAKrB,WAAW,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK;IAAE;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C,CAAC,eACFjC,OAAA;MAAQkC,OAAO,EAAExB,WAAY;MAAAa,QAAA,GAAC,OAE5B,eAAAvB,OAAA,CAACJ,KAAK;QAAC0B,SAAS,EAAC;MAAS;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC,EACRzB,YAAY,iBAAIR,OAAA;MAAGsB,SAAS,EAAC,OAAO;MAAAC,QAAA,EAAEf;IAAY;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrD,CAAC;AAEV,CAAC;AAAC/B,EAAA,CAnDID,KAAK;AAAAkC,EAAA,GAALlC,KAAK;AAqDX,eAAeA,KAAK;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}